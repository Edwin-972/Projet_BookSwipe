<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BookSwipe</title>
    <link rel="stylesheet" href="../Style_Css/Style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>
    <nav class="navbar">
        <div class="navbar-left">
            <a href="BookSwipe.html" class="logo" aria-label="BookSwipe Logo">BookSwipe</a>
            <a href="Deposer.html" class="nav-button" aria-label="Déposer une annonce">Déposer une annonce</a>
        </div>
        <div class="navbar-center">
            <input type="text" placeholder="Rechercher..." class="search-bar" aria-label="Rechercher des livres">
            <i class="fas fa-search search-icon" aria-hidden="true"></i>
        </div>
        <div class="navbar-right">
            <button class="nav-button" id="favoris-button" aria-label="Favoris">Favoris</button>
            <button class="nav-button" aria-label="Messages">Message</button>
            <button class="nav-button" id="auth-button" aria-label="Mon compte">Connexion/Inscription</button>
        </div>
    </nav>

    <main class="main-content">
        <h1>Bienvenue sur BookSwipe</h1>
        <p>Découvrez de nouveaux livres et partagez vos favoris !</p>
        <div class="content-wrapper">
            <aside class="filters-section">
                <h2>Filtres</h2>
                <div class="filter-group">
                    <h3>Catégorie</h3>
                    <select class="filter-select" id="category-filter" aria-label="Filtrer par catégorie">
                        <option value="all">Toutes les catégories</option>
                        <option value="fiction">Fiction</option>
                        <option value="non-fiction">Non-Fiction</option>
                        <option value="science">Science</option>
                        <option value="histoire">Histoire</option>
                    </select>
                </div>
                <div class="filter-group">
                    <h3>État du livre</h3>
                    <label><input type="checkbox" name="condition" value="new" aria-label="Neuf"> Neuf</label>
                    <label><input type="checkbox" name="condition" value="used" aria-label="Occasion"> Occasion</label>
                </div>
                <div class="filter-group">
                    <h3>Localisation</h3>
                    <input type="text" placeholder="Entrez une ville" class="filter-input" id="location-filter" aria-label="Filtrer par localisation">
                </div>
                <button class="filter-button" id="apply-filters" aria-label="Appliquer les filtres">Appliquer les filtres</button>
            </aside>
            <section class="books-section" id="book-list">
                <!-- Cards des livres générées dynamiquement -->
            </section>
        </div>
    </main>

    <footer class="footer">
        <div class="footer-container">
            <div class="footer-title">
                <h2>BookSwipe</h2>
            </div>
            <div class="footer-section">
                <h3>À PROPOS DE BookSwipe</h3>
                <ul>
                    <li><a href="#">Qui sommes-nous ?</a></li>
                    <li><a href="#">Nous rejoindre</a></li>
                </ul>
            </div>
            <div class="footer-section">
                <h3>INFORMATIONS LÉGALES</h3>
                <ul>
                    <li><a href="#">Conditions générales d'utilisation</a></li>
                    <li><a href="#">Conditions générales de vente</a></li>
                    <li><a href="#">Vos droits et obligations</a></li>
                    <li><a href="#">Charte de bonne conduite</a></li>
                </ul>
            </div>
            <div class="footer-section">
                <h3>DES QUESTIONS ?</h3>
                <ul>
                    <li><a href="#">Aide</a></li>
                    <li><a href="#">Statut de nos services</a></li>
                </ul>
            </div>
            <div class="footer-section">
                <h3>SUIVEZ-NOUS</h3>
                <ul>
                    <li><a href="#">Facebook</a></li>
                    <li><a href="#">Twitter</a></li>
                    <li><a href="#">Instagram</a></li>
                </ul>
            </div>
        </div>
        <div class="footer-copyright">
            <p>&copy; 2025 BookSwipe. Tous droits réservés.</p>
        </div>
    </footer>

    <script>
        // Mettre à jour le bouton de connexion dans la navbar
        document.addEventListener('DOMContentLoaded', function() {
            const authButton = document.getElementById('auth-button');
            const currentUser = JSON.parse(localStorage.getItem('currentUser'));

            if (authButton) {
                if (currentUser) {
                    authButton.textContent = "Mon compte"; // Afficher "Mon compte" pour un utilisateur connecté
                    authButton.setAttribute('aria-label', `Profil de ${currentUser.name}`);
                } else {
                    authButton.textContent = "Connexion/Inscription"; // Afficher "Connexion/Inscription" si non connecté
                    authButton.setAttribute('aria-label', "Connexion ou Inscription");
                }

                authButton.addEventListener('click', function() {
                    if (currentUser) {
                        // Si l'utilisateur est connecté, redirection vers la page du profil
                        window.location.href = "profil.html"; // Page de profil de l'utilisateur
                    } else {
                        // Sinon, redirection vers la page de login
                        window.location.href = "login.html";
                    }
                });
            }
        });
    </script>

    <script src="../Js/Script.js"></script>
</body>
</html>